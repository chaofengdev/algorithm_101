## BM83 字符串变形

方法1：双逆转

> 思路：
>
> 1.将字符大写改成小写，小写改成大写
>
> 2.翻转整个字符串
>
> 3.翻转每个单词，以空格为界
>
> 注意事项：
>
> 1.注意StringBuffer的相关api；
>
> 2.注意StringBuffer与String的相互转换；

```java
import java.util.*;

public class Solution {
    public String trans(String s, int n) {
        // write code here
        //1.将字符小写改大写，大写改小写
        StringBuffer res = new StringBuffer();//结果字符串序列
        for(int i = 0; i < n; i++) {
            char ch = s.charAt(i);
            if(ch >= 'a' && ch <= 'z') {//ch小写改大写
                res.append((char) (ch - 'a' + 'A'));
            }else if(ch >= 'A' && ch <= 'Z') {//ch大写改小写
                res.append((char)(ch - 'A' + 'a'));
            }else {//ch空格不变
                res.append(ch);
            }
        }
        //System.out.println(res.toString());
        //2.翻转整个字符串
        res.reverse();
        //System.out.println(res.toString());
        //3.翻转单个字符串
        for(int i = 0; i < n; i++) {
            int j = i;
            while(j < n && res.charAt(j) != ' ') {
                j++;
            }
            String temp = res.substring(i,j);//截取待翻转字符串
            StringBuffer buffer = new StringBuffer(temp);
            buffer.reverse();//翻转字符串
            res.replace(i,j,buffer.toString());
            i = j;
        }
        return res.toString();
    }
    
}
```



方法2：分割字符串+栈

```java
import java.util.*;

public class Solution {
    public String trans(String s, int n) {
        // write code here
        //1.将字符小写改大写，大写改小写
        StringBuffer res = new StringBuffer();
        for(int i = 0; i < n; i++) {
            if(s.charAt(i) >= 'a' && s.charAt(i) <= 'z') {
                res.append((char)(s.charAt(i) - 'a' + 'A'));
            }else if(s.charAt(i) >= 'A' && s.charAt(i) <= 'Z') {
                res.append((char)(s.charAt(i) - 'A' + 'a'));
            }else if(s.charAt(i) == ' '){
                res.append(" ");
            }
        }
        System.out.println(res.toString());
        //2.分割字符串，进栈
        Stack<String> stack = new Stack<String>();
        for(int i = 0; i < n; i++) {
            int j = i;
            while(j < n && s.charAt(j) != ' ') {
                j++;
            }
            String temp = res.substring(i,j);
            stack.push(temp);
            i = j;
        }
        //特殊情况判断：字符串以空格结尾
        if(s.charAt(n-1) == ' ') {
            res = new StringBuffer(" ");
        }else {
            res = new StringBuffer();
        }
        //3.出栈，拼接字符串
        while(!stack.empty()) {
            res.append(stack.pop());
            if(!stack.empty()) {
                res.append(" ");
            }
        }
        return res.toString();
    }
}
```

